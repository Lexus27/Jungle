# ABAC: Attribute Based Access Control
Определения
---------------------------------------------
**Контекст**         - это источник информации на момент вычисления доступа. (Что?(Объект) Кто?(Пользователь) Зачем?(Применяемое действие), Где?(Данные окружения))
**Вычисляемый**      - Объект который можно вычислить благодаря Контексту и получить Результат вычисления, субъективно, имеется ввиду что то одно из Правила, Политики или Группы политик.
**Комбинатор**       - метод перебора множества Вычисляемых, комбинирующий решения дочерних Вычисляемых поголовно, таким образом чтобы дать результирующее решение контейнера.
**Агрегатор**        - контейнер содержащий множество Вычисляемых объектов и использующий Комбинатор для результата вычисления.
**Цель**             - это абстрактный барьер перед выполнением Агрегации, является провайдером Условий.
**Правило**          - это конкретный объект вычисляющий решение, также является провайдером одного Условия.
**Условие**          - заданная сверка двух значений, значения каждого операнда(стороны сравнения) могут представлятся статично или ссылкой на Контекст.
**Политика**         - Агрегатор Правил, проверяет применимость Цели к Контексту, после чего выполняет дальнейшую Агрегацию.
**Группа политик**   - Агрегатор Политик, проверяет применимость Цели к Контексту, после чего выполняет дальнейшую Агрегацию.


Статусы возращаемые Вычисляемым
----------------------------------------------------------------------------------------
_**NOT_APPLICABLE**_   (Не применимо)      - Условия Целей или Правил не соответствуют Контексту.
_**INDETERMINATE**_    (Не определено)     - Ошибка помешавшая выявить решение
_**PERMIT**_           (Разрешить) TRUE    - Разрешение
_**DENY**_             (Заретить)  FALSE   - Запрет


Итоговое решение о предоставлении прав доступа
----------------------------------------
Итоговое решение может быть только PERMIT или DENY

_**NOT_APPLICABLE**_   - это означает что ни один Вычисляемый не имел соответствий с Контекстом, поэтому итоговое значение будет назначено исходя из базирования менеджера(Разрешающий(Permit) или Запрещающий(Deny))
_**INDETERMINATE**_    - склонен к отказу, т.к вычислить всё до конца не удастся изза ошибки на этапах связанных с вычислениями или завершения оных.

_**NOT_APPLICABLE**_ - Возможно интерпретировать из NULL значения, т.к NOT_APPLICABLE является переопределяемым от контейнера (итоговое)
_**INDETERMINATE**_ - Возможно реализовать при помощи Исключений


Комбинаторы и Поведение
---------------------------------------------
Комбинатор нужно подбирать достаточно скурпулезно в зависимости от задач авторизации действий.

Вводные:
Агрегатор использует Комбинатор для вычисления своего решения.
Агрегатор базируется на эффекте.
Агрегатор может быть Не применим, это вычисляется при помощи Комбинирования дочерних Вычисляющих

Предполагаемые принципы комбинирования:
А. [delegate]        Решение первого применимого дочернего делегируется как результат вычисления Агрегатора
Б. [delegate_same]   Аналогия [A], но Агрегатор всегда является Применимым, при не применимости дочерних, его эффект будет в приоритете.
В. [same_only]       Решение Агрегатора если минимум 1 дочерний равен Эффекту Агрегатора, и ни одного Противоположного
Г. [same_soft]       Аналогия [В], но допускаются Не применимые

Структура принципа комбинирования:
Принцип комбинирования ложится на пошаговый перебор, каждый раз нового Вычисляемого
и на основе его Решения происходит реакции способные выдать итоговое решение, заранее или в конце итераций

Реакции определяются следующими событиями
 Поведение при "Не применимых"
 Поведение при "Не определенных"
 Поведение при "Разрешающих"
 Поведение при "Запрещающих"

Принцип был интерпретирован и реализован по данной [статье](https://habrahabr.ru/company/custis/blog/258861)  